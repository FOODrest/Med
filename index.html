<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Omayma ğŸ’– Valentine</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    html, body { height: 100%; }

    @keyframes shimmer {
      0% { transform: translateX(-20%) rotate(8deg); opacity: .10; }
      100% { transform: translateX(20%) rotate(8deg); opacity: .20; }
    }
    .shimmer { animation: shimmer 12s ease-in-out infinite alternate; }

    @keyframes floatUp {
      0% { transform: translate3d(0,0,0) scale(.9); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translate3d(0,-120vh,0) scale(1.25); opacity: 0; }
    }
    .float-heart{
      position:absolute; bottom:-40px;
      animation: floatUp linear forwards;
      pointer-events:none; user-select:none;
      will-change: transform, opacity;
      /* removed drop-shadow for performance */
    }

    @keyframes confettiFall {
      0% { transform: translate3d(0,-20vh,0) rotate(0deg); opacity: 1; }
      100% { transform: translate3d(0,120vh,0) rotate(720deg); opacity: .95; }
    }
    .confetti{
      position:absolute; top:-20vh;
      border-radius: 4px;
      animation: confettiFall linear forwards;
      pointer-events:none;
      will-change: transform, opacity;
      /* removed drop-shadow for performance */
    }

    @keyframes burst {
      0% { transform: translate3d(0,0,0) scale(1); opacity: 1; }
      100% { transform: translate3d(var(--dx), var(--dy), 0) scale(.75); opacity: 0; }
    }
    .burst{
      position:absolute;
      width:10px;height:10px;border-radius:999px;
      pointer-events:none;
      animation: burst 850ms cubic-bezier(.2,.8,.2,1) forwards;
      will-change: transform, opacity;
      /* removed drop-shadow for performance */
    }

    @keyframes fadeIn {
      from { opacity:0; transform: translate3d(0,14px,0) scale(.99); }
      to { opacity:1; transform: translate3d(0,0,0) scale(1); }
    }
    .fade-in { animation: fadeIn 520ms cubic-bezier(.2,.8,.2,1); }

    @keyframes twinkle {
      0%,100% { opacity: .25; transform: scale(.95) rotate(0deg); }
      50% { opacity: .55; transform: scale(1.05) rotate(10deg); }
    }
    .twinkle { animation: twinkle 2.7s ease-in-out infinite; }

    .focus-ring:focus-visible{
      outline: none;
      box-shadow: 0 0 0 4px rgba(244,63,94,.20), 0 10px 25px rgba(0,0,0,.12);
    }

    .glow { box-shadow: 0 0 80px rgba(244,63,94,.18); }

    .bw-photo{
      filter: grayscale(100%) contrast(1.05) brightness(1.02);
    }

    /* Big win: isolate overlay painting */
    #celebrationOverlay {
      contain: layout paint size style;
      will-change: opacity, transform;
    }
    /* Reduce paint/layout for heavy sections below fold */
    section { content-visibility: auto; contain-intrinsic-size: 800px; }

    @media (prefers-reduced-motion: reduce) {
      .shimmer,.twinkle,.float-heart,.confetti,.burst,.fade-in { animation: none !important; }
    }
    #celebrationOverlay { -webkit-overflow-scrolling: touch; }
  </style>

  <script>
    tailwind.config = {
      theme: { extend: { fontFamily: { romantic: ['ui-serif','Georgia','serif'] } } }
    }
  </script>
</head>

<body class="bg-gradient-to-br from-pink-50 via-rose-50 to-red-50 text-slate-800">

  <div class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute -top-24 -left-24 w-72 h-72 bg-pink-200 rounded-full blur-3xl opacity-45"></div>
    <div class="absolute top-20 right-10 w-[26rem] h-[26rem] bg-rose-200 rounded-full blur-3xl opacity-45 shimmer"></div>
    <div class="absolute -bottom-24 left-1/3 w-[32rem] h-[32rem] bg-red-200 rounded-full blur-3xl opacity-35"></div>

    <div class="absolute inset-0 opacity-[0.05] bg-[radial-gradient(circle_at_1px_1px,rgba(244,63,94,.9)_1px,transparent_1px)] [background-size:28px_28px]"></div>

    <div class="absolute top-16 left-10 text-2xl twinkle">âœ¨</div>
    <div class="absolute bottom-24 right-16 text-2xl twinkle">âœ¨</div>
    <div class="absolute top-40 right-36 text-xl twinkle">ğŸ’«</div>
  </div>

  <!-- Celebration overlay -->
  <div id="celebrationOverlay" class="hidden fixed inset-0 z-50 overflow-y-auto">

    <div class="absolute inset-0 bg-gradient-to-br from-pink-100 via-rose-100 to-red-100"></div>

    <div id="confettiLayer" class="absolute inset-0 overflow-hidden"></div>
    <div id="burstLayer" class="absolute inset-0 overflow-hidden"></div>
    <div id="emojiLayer" class="absolute inset-0 overflow-hidden pointer-events-none"></div>

    <div class="relative z-10 min-h-screen flex items-center justify-center p-6">
      <div class="fade-in max-w-4xl w-full rounded-[2rem] p-[1px] bg-gradient-to-br from-white/70 via-rose-200/40 to-pink-200/40 shadow-2xl">
        <div class="bg-white/75 backdrop-blur-xl rounded-[2rem] p-6 sm:p-10 glow border border-white">
          <div class="text-center">
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-rose-100/80 border border-rose-200 text-rose-700 font-semibold shadow-sm">
              <span>ğŸ‰</span>
              <span>I love you, you little troublemaker ğŸ˜„</span>
              <span>ğŸ‰</span>
            </div>

            <h1 class="mt-5 text-3xl sm:text-5xl font-romantic font-bold text-rose-700 leading-tight">
              Omaymaâ€¦ Kanbghik ğŸ’˜âœ¨
            </h1>

            <p class="mt-4 text-lg sm:text-xl text-slate-700">
              Youâ€™re my Valentineâ€¦ and the sweetest blessing in my life ğŸŒ¹âœ¨
            </p>

            <div class="mt-8 flex justify-center">
              <div class="relative">
                <div class="absolute -inset-2 rounded-3xl bg-gradient-to-br from-rose-300/30 via-pink-300/30 to-red-300/20 blur-xl"></div>

                <img
                  class="relative w-full max-w-md rounded-3xl shadow-2xl border border-white/80 bw-photo"
                  src="omayma.jpeg"
                  alt="Omayma"
                  loading="eager"
                  decoding="async"
                />

                <div class="absolute -top-6 -right-5 text-5xl rotate-12 drop-shadow">ğŸ‘‘</div>

                <div class="absolute -bottom-5 left-1/2 -translate-x-1/2 px-4 py-2 rounded-full bg-white/85 border border-rose-200 shadow text-rose-700 font-semibold">
                  The prettiest queen ever ğŸ‘‘ğŸ’–
                </div>
              </div>
            </div>

            <div class="mt-10 flex flex-col sm:flex-row gap-3 justify-center">
              <button id="moreLoveBtn"
                class="focus-ring rounded-2xl px-7 py-3 font-semibold bg-rose-600 text-white shadow-lg hover:bg-rose-700 active:scale-[0.98] transition">
                More love ğŸ’
              </button>

              <button id="restartBtn"
                class="focus-ring rounded-2xl px-7 py-3 font-semibold bg-white text-rose-700 shadow-lg border border-rose-200 hover:bg-rose-50 active:scale-[0.98] transition">
                Restart ğŸ”
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MAIN -->
  <main id="mainContent" class="relative z-10">
    <section class="min-h-screen flex items-center justify-center p-6">
      <div class="max-w-3xl w-full">
        <div class="rounded-[2rem] p-[1px] bg-gradient-to-br from-white/70 via-rose-200/35 to-pink-200/35 shadow-2xl">
          <div class="bg-white/70 backdrop-blur-xl rounded-[2rem] p-6 sm:p-10 glow border border-white">
            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-rose-100/80 border border-rose-200 text-rose-700 font-semibold shadow-sm">
                  <span>ğŸŒ¹</span><span>I love you so much</span><span>ğŸŒ¹</span>
                </div>

                <h1 class="mt-5 text-3xl sm:text-5xl font-romantic font-bold text-rose-700 leading-tight">
                  Omayma ğŸ’–
                </h1>

                <p class="mt-4 text-base sm:text-lg text-slate-700 max-w-2xl">
                  Will you be my Valentine? ğŸ˜³â¤ï¸ğŸŒ¹
                </p>

                <p id="miniMsg" class="mt-3 text-rose-700 font-semibold">
                  â€œYouâ€™re the most beautiful person in my world.â€ ğŸ’
                </p>
              </div>

              <div class="hidden sm:block text-5xl drop-shadow-sm">ğŸ’Œ</div>
            </div>

            <div class="mt-8">
              <div id="buttonZone"
                class="relative w-full h-56 sm:h-48 rounded-3xl bg-gradient-to-br from-pink-50 to-rose-50 border border-rose-100 overflow-hidden shadow-inner">

                <div class="pointer-events-none absolute -top-3 -left-2 text-3xl opacity-60">ğŸ’—</div>
                <div class="pointer-events-none absolute top-5 right-8 text-2xl opacity-60">ğŸ’˜</div>
                <div class="pointer-events-none absolute bottom-4 left-12 text-2xl opacity-60">ğŸ’–</div>

                <button id="yesBtn"
                  class="focus-ring absolute left-6 top-1/2 -translate-y-1/2 rounded-2xl px-8 py-4 sm:px-12 sm:py-4 text-lg sm:text-xl font-extrabold
                         bg-rose-600 text-white shadow-xl hover:bg-rose-700 active:scale-[0.98] transition">
                  YES ğŸ’–
                </button>

                <button id="noBtn"
                  class="focus-ring absolute right-6 top-1/2 -translate-y-1/2 rounded-2xl px-7 py-3 sm:px-8 sm:py-3 text-base sm:text-lg font-semibold
                         bg-white text-slate-700 shadow-lg border border-slate-200 hover:bg-slate-50 active:scale-[0.98] transition">
                  No ğŸ™ˆ
                </button>
              </div>

              <p id="hintText" class="mt-4 text-sm sm:text-base text-slate-600"></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="pb-20 px-6">
      <div class="max-w-3xl mx-auto">
        <div class="rounded-[2rem] p-[1px] bg-gradient-to-br from-white/70 via-rose-200/35 to-pink-200/35 shadow-xl">
          <div class="bg-white/70 backdrop-blur-xl rounded-[2rem] p-6 sm:p-10 border border-white">
            <h2 class="text-2xl sm:text-3xl font-romantic font-bold text-rose-700">Why I love you ğŸ’—</h2>
            <ul class="mt-5 space-y-3 text-slate-700">
              <li class="flex gap-3"><span class="text-xl">ğŸŒ¸</span><span>Because youâ€™re Omayma.</span></li>
              <li class="flex gap-3"><span class="text-xl">âœ¨</span><span>With you, I feel safe and calm.</span></li>
              <li class="flex gap-3"><span class="text-xl">ğŸ”¥</span><span>Youâ€™re specialâ€¦ and I want you in my life, always.</span></li>
              <li class="flex gap-3"><span class="text-xl">ğŸ˜‚</span><span>And if you say â€œNoâ€â€¦ it still means â€œYesâ€ ğŸ˜„</span></li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div id="heartsLayer" class="fixed inset-0 pointer-events-none overflow-hidden z-40"></div>

  <script>
    const mainContent = document.getElementById('mainContent');

    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const buttonZone = document.getElementById('buttonZone');
    const hintText = document.getElementById('hintText');
    const miniMsg = document.getElementById('miniMsg');

    const celebrationOverlay = document.getElementById('celebrationOverlay');
    const heartsLayer = document.getElementById('heartsLayer');
    const confettiLayer = document.getElementById('confettiLayer');
    const burstLayer = document.getElementById('burstLayer');
    const emojiLayer = document.getElementById('emojiLayer');

    const moreLoveBtn = document.getElementById('moreLoveBtn');
    const restartBtn = document.getElementById('restartBtn');

    const isTouch = matchMedia('(hover: none)').matches || 'ontouchstart' in window;
    const reduceMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;

    const lowPower = reduceMotion || (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 4);

    // HARD LIMITS (prevents freezing)
    const LIMITS = lowPower
      ? { maxNodes: 550, confettiTotal: 220, heartsTotal: 70, emojiTotal: 28 }
      : { maxNodes: 850, confettiTotal: 340, heartsTotal: 110, emojiTotal: 40 };

    // Chunk sizes (spawn across frames)
    const CHUNK = lowPower
      ? { confetti: 25, hearts: 10, emoji: 4, burst: 14 }
      : { confetti: 40, hearts: 14, emoji: 6, burst: 22 };

    let noTapCount = 0;

    const noPhrases = [
      "No ğŸ™ˆ",
      "Are you sure? ğŸ˜³",
      "Think againâ€¦ ğŸ¥º",
      "Youâ€™re breaking my heart ğŸ˜­",
      "Last chance ğŸ˜¤",
      "Okayâ€¦ for real? ğŸ˜…"
    ];

    function rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
    function clamp(v, min, max) { return Math.max(min, Math.min(max, v)); }

    function enforceNodeLimit() {
      // If for some reason nodes pile up, clean a bit.
      const total =
        confettiLayer.childElementCount +
        burstLayer.childElementCount +
        emojiLayer.childElementCount +
        heartsLayer.childElementCount;

      if (total <= LIMITS.maxNodes) return;

      // remove oldest from each layer (cheap cleanup)
      for (const layer of [confettiLayer, burstLayer, emojiLayer, heartsLayer]) {
        while (layer.childElementCount > 0 && (
          confettiLayer.childElementCount +
          burstLayer.childElementCount +
          emojiLayer.childElementCount +
          heartsLayer.childElementCount
        ) > LIMITS.maxNodes) {
          layer.firstElementChild.remove();
        }
      }
    }

    // ---------- FAST SPAWNERS (chunked) ----------
    function spawnHeartsChunk(count) {
      if (reduceMotion) return;
      const frag = document.createDocumentFragment();
      for (let i = 0; i < count; i++) {
        const heart = document.createElement('div');
        heart.className = 'float-heart';
        heart.textContent = Math.random() > 0.5 ? 'ğŸ’–' : (Math.random() > 0.5 ? 'ğŸ’˜' : 'ğŸ’—');

        const size = rand(18, 48);
        const duration = rand(6, 9);

        heart.style.left = rand(0, 100) + 'vw';
        heart.style.fontSize = size + 'px';
        heart.style.animationDuration = duration + 's';
        heart.style.opacity = (Math.random() * 0.55 + 0.35).toFixed(2);

        frag.appendChild(heart);
        setTimeout(() => heart.remove(), duration * 1000);
      }
      heartsLayer.appendChild(frag);
    }

    function spawnConfettiChunk(count) {
      if (reduceMotion) return;
      const colors = ['#fb7185','#fda4af','#f472b6','#fecdd3','#f43f5e','#ffedd5','#fde68a','#e879f9','#86efac','#60a5fa'];
      const frag = document.createDocumentFragment();

      for (let i = 0; i < count; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = rand(0, 100) + 'vw';
        c.style.background = colors[rand(0, colors.length - 1)];
        c.style.width = rand(6, 12) + 'px';
        c.style.height = rand(10, 22) + 'px';
        c.style.animationDuration = rand(4, 8) + 's';
        c.style.animationDelay = (Math.random() * 0.4) + 's';
        c.style.opacity = (Math.random() * 0.45 + 0.45).toFixed(2);

        frag.appendChild(c);
        setTimeout(() => c.remove(), 9500);
      }
      confettiLayer.appendChild(frag);
    }

    function burstAt(x, y, pieces = CHUNK.burst) {
      if (reduceMotion) return;
      const colors = ['#fb7185','#f43f5e','#f472b6','#e879f9','#fde68a','#86efac','#60a5fa'];
      const frag = document.createDocumentFragment();

      for (let i = 0; i < pieces; i++) {
        const p = document.createElement('div');
        p.className = 'burst';
        p.style.left = x + 'px';
        p.style.top = y + 'px';
        p.style.background = colors[rand(0, colors.length - 1)];

        const angle = (Math.PI * 2) * (i / pieces);
        const dist = rand(60, 150);
        p.style.setProperty('--dx', (Math.cos(angle) * dist) + 'px');
        p.style.setProperty('--dy', (Math.sin(angle) * dist) + 'px');

        const s = rand(6, 12);
        p.style.width = s + 'px';
        p.style.height = s + 'px';

        frag.appendChild(p);
        setTimeout(() => p.remove(), 900);
      }
      burstLayer.appendChild(frag);
    }

    function emojiPopChunk(count) {
      if (reduceMotion) return;
      const emojis = ['ğŸ˜‚','ğŸ¤£','ğŸ˜³','ğŸ¥¹','ğŸ’–','ğŸ’˜','ğŸ’—','ğŸŒ¹','ğŸ‰','ğŸ‘‘','âœ¨','ğŸ’«','ğŸ”¥','ğŸ’','ğŸ‡'];
      const frag = document.createDocumentFragment();

      for (let i = 0; i < count; i++) {
        const el = document.createElement('div');
        el.className = 'absolute text-4xl';
        el.textContent = emojis[rand(0, emojis.length - 1)];
        el.style.left = rand(2, 96) + 'vw';
        el.style.top = rand(12, 86) + 'vh';
        el.style.transform = `rotate(${rand(-20,20)}deg) scale(1)`;
        el.style.transition = 'all 850ms ease';
        frag.appendChild(el);

        requestAnimationFrame(() => {
          el.style.opacity = '0';
          el.style.transform += ' scale(1.22) translateY(-10px)';
        });

        setTimeout(() => el.remove(), 900);
      }
      emojiLayer.appendChild(frag);
    }

    // Spawn N items over multiple frames (NO FREEZE)
    function spawnOverFrames(total, chunkSize, fnChunk) {
      let remaining = total;
      function step() {
        enforceNodeLimit();
        if (remaining <= 0) return;
        const n = Math.min(chunkSize, remaining);
        fnChunk(n);
        remaining -= n;
        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }

    // Party timeline: cooler + smooth
    let partyTimer = null;
    function startPartyTimeline() {
      clearInterval(partyTimer);
      let ticks = 0;

      partyTimer = setInterval(() => {
        // smaller continuous bursts (looks â€œmoreâ€ but lighter)
        spawnOverFrames(lowPower ? 28 : 40, CHUNK.confetti, spawnConfettiChunk);
        spawnOverFrames(lowPower ? 8 : 12, CHUNK.hearts, spawnHeartsChunk);
        burstAt(rand(120, innerWidth - 120), rand(140, innerHeight - 200), CHUNK.burst);
        emojiPopChunk(lowPower ? 2 : 3);

        ticks++;
        if (ticks >= (lowPower ? 10 : 14)) clearInterval(partyTimer);
      }, lowPower ? 720 : 540);
    }

    // INSTANT overlay, effects in background frames
    function openCelebration() {
      // Hide everything behind + prevent background scrolling
      mainContent.classList.add('hidden');
      heartsLayer.classList.add('hidden');
      document.body.style.overflow = 'hidden';

      // Show overlay + allow overlay scrolling
      celebrationOverlay.classList.remove('hidden');
      celebrationOverlay.scrollTop = 0;

      // spawn effects gradually (no freeze)
      spawnOverFrames(LIMITS.confettiTotal, CHUNK.confetti, spawnConfettiChunk);
      spawnOverFrames(LIMITS.heartsTotal, CHUNK.hearts, spawnHeartsChunk);
      spawnOverFrames(LIMITS.emojiTotal, CHUNK.emoji, emojiPopChunk);

      burstAt(innerWidth / 2, innerHeight / 2, lowPower ? 16 : 22);
      startPartyTimeline();
    }

    // Desktop â€œNoâ€ runs away
    function moveNoButton() {
      const zoneRect = buttonZone.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const padding = 12;

      const maxX = zoneRect.width - btnRect.width - padding;
      const maxY = zoneRect.height - btnRect.height - padding;

      const currentLeft = parseFloat(noBtn.style.left || (zoneRect.width - btnRect.width - 24));
      const currentTop  = parseFloat(noBtn.style.top  || (zoneRect.height / 2 - btnRect.height / 2));

      let newLeft = currentLeft, newTop = currentTop;
      for (let i = 0; i < 8; i++) {
        const candidateLeft = rand(padding, maxX);
        const candidateTop = rand(padding, maxY);
        const dist = Math.hypot(candidateLeft - currentLeft, candidateTop - currentTop);
        if (dist > 100) { newLeft = candidateLeft; newTop = candidateTop; break; }
      }

      noBtn.style.left = newLeft + 'px';
      noBtn.style.top = newTop + 'px';
      noBtn.style.right = 'auto';
      noBtn.style.transform = 'translate(0,0)';
    }

    if (!isTouch) {
      noBtn.addEventListener('mouseenter', () => {
        hintText.textContent = "No no ğŸ˜„ donâ€™t even tryâ€¦";
        miniMsg.textContent = "Just say YES ğŸ’˜";
        moveNoButton();
      });
      noBtn.addEventListener('focus', moveNoButton);
    }

    noBtn.addEventListener('click', (e) => {
      if (!isTouch) return;

      noTapCount++;
      noBtn.textContent = noPhrases[clamp(noTapCount, 0, noPhrases.length - 1)];

      const yesScale = 1 + Math.min(noTapCount * 0.22, 1.6);
      const noScale = Math.max(1 - noTapCount * 0.14, 0.32);

      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;
      noBtn.style.transform = `translateY(-50%) scale(${noScale})`;

      hintText.textContent = "Lookâ€¦ the â€˜Noâ€™ is getting tiny ğŸ˜Œ";
      miniMsg.textContent = "â€œYou + Me = foreverâ€ ğŸ’";

      // lightweight feedback
      spawnHeartsChunk(lowPower ? 6 : 10);
      burstAt(rand(80, innerWidth - 80), rand(120, innerHeight - 140), lowPower ? 12 : 16);
      e.preventDefault();
    });

    yesBtn.addEventListener('click', openCelebration);

    moreLoveBtn.addEventListener('click', () => {
      // still fast: spread over frames
      spawnOverFrames(lowPower ? 120 : 180, CHUNK.confetti, spawnConfettiChunk);
      spawnOverFrames(lowPower ? 30 : 48, CHUNK.hearts, spawnHeartsChunk);
      spawnOverFrames(lowPower ? 14 : 22, CHUNK.emoji, emojiPopChunk);

      burstAt(rand(120, innerWidth - 120), rand(140, innerHeight - 200), lowPower ? 16 : 22);
      burstAt(rand(120, innerWidth - 120), rand(140, innerHeight - 200), lowPower ? 16 : 22);
    });

    restartBtn.addEventListener('click', () => {
  celebrationOverlay.classList.add('hidden');
  confettiLayer.replaceChildren();
  burstLayer.replaceChildren();
  emojiLayer.replaceChildren();
  heartsLayer.replaceChildren();

  clearInterval(partyTimer);
  partyTimer = null;

  // Restore background content + scrolling
  mainContent.classList.remove('hidden');
  heartsLayer.classList.remove('hidden');
  document.body.style.overflow = '';

  noTapCount = 0;
  noBtn.textContent = "No ğŸ™ˆ";
  yesBtn.style.transform = "translateY(-50%)";
  noBtn.style.transform = "translateY(-50%)";

  noBtn.style.left = 'auto';
  noBtn.style.top = '50%';
  noBtn.style.right = '24px';
  noBtn.style.transform = 'translateY(-50%)';
});

    document.addEventListener('click', (e) => {
      if (celebrationOverlay.classList.contains('hidden')) return;
      burstAt(e.clientX, e.clientY, lowPower ? 14 : 20);
      emojiPopChunk(lowPower ? 1 : 2);
    }, { passive: true });
  </script>
</body>
</html>
